parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"egbO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isInCircle=exports.translatePoint=exports.oppPoint=exports.eq=exports.o=exports.identity=exports.rotatePoint=void 0;var t=function(t,r){return{x:t.x*Math.cos(r)-t.y*Math.sin(r),y:t.x*Math.sin(r)+t.y*Math.cos(r)}};exports.rotatePoint=t;var r=function(t){return t};exports.identity=r;var e=function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];return r.reduce(function(t,r){return function(e){return t(r(e))}},exports.identity)};exports.o=e;var o=function(t,r){return Math.abs(t.x-r.x)<1&&Math.abs(t.y-r.y)<1};exports.eq=o;var n=function(t){return{x:-t.x,y:-t.y}};exports.oppPoint=n;var i=function(t,r){return{x:t.x+r.x,y:t.y+r.y}};exports.translatePoint=i;var s=function(t,r){var e=exports.translatePoint(t,exports.oppPoint(r.center));return Math.pow(e.x,2)+Math.pow(e.y,2)<Math.pow(r.radius,2)};exports.isInCircle=s;
},{}],"BRjm":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Gear=void 0;var n=require("./geometry"),r=function(){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t(this,e),this.padding=n,this.maxX=this.max(i,function(t){return t.x}),this.minX=this.min(i,function(t){return t.x}),this.maxY=this.max(i,function(t){return t.y}),this.minY=this.min(i,function(t){return t.y})}return i(e,[{key:"asString",value:function(){return"".concat(this.minX-this.padding," ").concat(this.minY-this.padding)+" "+"".concat(this.maxX-this.minX+this.padding," ").concat(this.maxY-this.minY+this.padding)}},{key:"center",get:function(){return{x:(this.minX+this.maxX)/2,y:(this.minY+this.maxY)/2}}},{key:"asStyle",value:function(){return"height: ".concat(Math.round(this.maxY+this.padding),"px; width: ").concat(Math.round(this.maxX+this.padding),"px;")}},{key:"max",value:function(t,e){return Math.max.apply(null,t.map(e))}},{key:"min",value:function(t,e){return Math.min.apply(null,t.map(e))}}]),e}(),s=function(){function e(){t(this,e),this.teeth=64,this.teethAngle=Math.PI/2,this.teethHeight=4,this.radius=0,this.flatteningRate=.2}return i(e,[{key:"calc",value:function(){var t=this,e=2*Math.tan(this.teethAngle/2)*this.teethHeight,i=2*Math.PI/this.teeth;this.radius=e/2/Math.sin(i/2);var r=[],s=this.flatteningRate*e,a=n.rotatePoint({x:0,y:this.radius},i/2),o={x:0,y:this.radius+this.teethHeight};if(s<=0)for(var h=0;h<this.teeth;h++)r.push(n.rotatePoint(a,-i*h)),r.push(n.rotatePoint(o,-i*h));else{var u={x:a.x+s,y:a.y-s},c={x:o.x-s/2,y:o.y+s},l={x:o.x+s/2,y:o.y+s},d=n.rotatePoint(a,-i);d={x:d.x-s,y:d.y-s};for(var p=0;p<this.teeth;p++)r.push(n.rotatePoint(u,-i*p)),r.push(n.rotatePoint(c,-i*p)),r.push(n.rotatePoint(l,-i*p)),r.push(n.rotatePoint(d,-i*p))}return r.push(r[0]),r.map(function(e){return n.translatePoint(e,{x:4*t.radius,y:4*t.radius})})}},{key:"pointsToPath",value:function(t){return this.borders=new r(t),t.map(function(t,e){return 0===e?"M ".concat(t.x,",").concat(t.y):"L ".concat(t.x,",").concat(t.y)}).join(" ")}},{key:"svg",value:function(){var t=this.calc();console.log(t);var e=this.pointsToPath(t),i="http://www.w3.org/2000/svg",n=document.createElementNS(i,"svg");n.setAttribute("viewBox",this.borders.asString()),n.setAttribute("style",this.borders.asStyle());var r=document.createElementNS(i,"path");r.setAttribute("fill","#bf953f"),r.setAttribute("stroke","#bf953f"),r.setAttribute("stroke-width","1px"),r.setAttribute("d",e);var s=document.createElementNS(i,"circle");s.setAttribute("cx",this.borders.center.x.toString()),s.setAttribute("cy",this.borders.center.y.toString()),s.setAttribute("r",(this.radius-6).toString()),s.setAttribute("fill","#513d12");var a=document.createElementNS(i,"circle");a.setAttribute("cx",this.borders.center.x.toString()),a.setAttribute("cy",this.borders.center.y.toString()),a.setAttribute("r",(.3*this.radius-6).toString()),a.setAttribute("fill","#bf953f");var o=document.createElementNS(i,"circle");return o.setAttribute("cx",this.borders.center.x.toString()),o.setAttribute("cy",this.borders.center.y.toString()),o.setAttribute("r","6"),o.setAttribute("fill","white"),n.appendChild(r),n.appendChild(s),n.appendChild(a),n.appendChild(o),n}}]),e}();exports.Gear=s;
},{"./geometry":"egbO"}],"N2jx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./Gear"),t=new e.Gear;function n(){document.querySelector("#container").innerHTML="",document.querySelector("#container").appendChild(t.svg()),document.querySelector("#radius").innerHTML=""+t.radius}n(),document.querySelector("#teeth").value=t.teeth,document.querySelector("#teeth").addEventListener("change",function(e){t.teeth=e.target.value,n()}),document.querySelector("#teethHeight").value=t.teethHeight,document.querySelector("#teethHeight").addEventListener("change",function(e){t.teethHeight=e.target.value,n()}),document.querySelector("#teethAngle").value=t.teethAngle,document.querySelector("#teethAngle").addEventListener("change",function(e){t.teethAngle=e.target.value,n()}),document.querySelector("#flatteningRate").value=t.flatteningRate,document.querySelector("#flatteningRate").addEventListener("change",function(e){t.flatteningRate=e.target.value,n()});
},{"./Gear":"BRjm"}]},{},["N2jx"], null)
//# sourceMappingURL=index-gear.d9547f98.js.map